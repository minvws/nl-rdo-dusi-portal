delete from public.subsidy_stage_transition_messages where subsidy_stage_transition_id = 'e4eb01fb-2acf-469c-9ffe-9a0a8be04752';
delete from public.subsidy_stage_transition_messages where subsidy_stage_transition_id = '72bc33b6-2fbe-4d05-bd3b-0e9e88adb76a';

delete from public.subsidy_stage_transitions where id = 'e4eb01fb-2acf-469c-9ffe-9a0a8be04752';
delete from public.subsidy_stage_transitions where id = '72bc33b6-2fbe-4d05-bd3b-0e9e88adb76a';

insert into public.subsidy_stages (id, created_at, subsidy_version_id, title, subject_role, subject_organisation, stage, assessor_user_role, internal_note_field_code, allow_duplicate_assessors) values ('59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, '2aaac0da-d265-40bb-bde6-ac20d77e6bca', 'Wachten op vaststelling', 'assessor', null, 5, 'assessor', 'InternalNote', true);
insert into public.subsidy_stages (id, created_at, subsidy_version_id, title, subject_role, subject_organisation, stage, assessor_user_role, internal_note_field_code, allow_duplicate_assessors) values ('2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, '2aaac0da-d265-40bb-bde6-ac20d77e6bca', 'Vaststellings controle', 'assessor', null, 6, 'assessor', 'InternalNote', true);
insert into public.subsidy_stages (id, created_at, subsidy_version_id, title, subject_role, subject_organisation, stage, assessor_user_role, internal_note_field_code, allow_duplicate_assessors) values ('dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', null, '2aaac0da-d265-40bb-bde6-ac20d77e6bca', 'Interne vaststellings controle', 'assessor', null, 7, 'internalAuditor', 'InternalNote', true);
insert into public.subsidy_stages (id, created_at, subsidy_version_id, title, subject_role, subject_organisation, stage, assessor_user_role, internal_note_field_code, allow_duplicate_assessors) values ('051364be-fa12-4af7-a1b8-c80f5e9dd652', null, '2aaac0da-d265-40bb-bde6-ac20d77e6bca', 'Uitvoeringscoördinator vaststellings controle', 'assessor', null, 8, 'implementationCoordinator', 'InternalNote', true);

insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('87000715-346e-405a-84c7-f0e737c0b141', 'Beoordeling', null, 'select', '{"default": null, "options": ["Vaststellen", "Vorderen", "Uitstellen"]}', true, 'assessment', 'user', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('3afeac38-6e55-4384-953c-772a3c69b846', 'Interne notitie', null, 'text', '{"maxLength": null}', false, 'internalNote', 'user', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('2c9e1aa8-1822-4994-9571-16917d5bbb69', 'Bewijsstukken', null, 'upload', '{"maxItems": 20, "minItems": 1, "mimeTypes": ["image/jpeg", "image/png", "application/pdf"], "maxFileSize": 20971520}', false, 'proof', 'user', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('0f2ec623-84a7-49aa-8ba6-809f34ba1cd2', 'Beoordeling', null, 'select', '{"default": null, "options": ["Vaststellen", "Vorderen", "Uitstellen"]}', true, 'assessment', 'user', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('ec3010ef-5294-43eb-8081-97c3e9cfdaac', 'Interne notitie', null, 'text', '{"maxLength": null}', false, 'internalNote', 'user', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('006485db-a831-4cd2-91a6-41d426545bf6', 'Bewijsstukken', null, 'upload', '{"maxItems": 20, "minItems": 1, "mimeTypes": ["image/jpeg", "image/png", "application/pdf"], "maxFileSize": 20971520}', false, 'proof', 'user', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('9038fc64-4dff-4114-b9e4-fe5231eb94e5', 'Beoordeling', null, 'select', '{"default": null, "options": ["Eens met de beoordeling op de vaststelling", "Oneens met de beoordeling op de vaststelling"]}', true, 'assessment', 'user', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('7c0f9d11-c2fd-4d85-a529-072b41173a0d', 'Interne notitie', null, 'text', '{"maxLength": null}', false, 'internalNote', 'user', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('a5f44579-6d2b-4e45-bbad-09d9ec62c721', 'Beoordeling', null, 'select', '{"default": null, "options": ["Eens met de beoordeling op de vaststelling", "Oneens met de beoordeling op de vaststelling"]}', true, 'assessment', 'user', '051364be-fa12-4af7-a1b8-c80f5e9dd652', null, 'short', false);
insert into public.fields (id, title, description, type, params, is_required, code, source, subsidy_stage_id, required_condition, retention_period_on_approval, exclude_from_clone_data) values ('9bd32484-c8da-42ce-a1ea-9a25ad6bb99b', 'Interne notitie', null, 'text', '{"maxLength": null}', false, 'internalNote', 'user', '051364be-fa12-4af7-a1b8-c80f5e9dd652', null, 'short', false);

insert into public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) values ('3063cb42-5d55-4b9b-82e6-6250a4481296', 'e5da8f2e-db87-45df-8967-ea3dceb2b207', null, 'rejected', '{"type":"and","conditions":[{"type":"comparison","stage":2,"fieldCode":"firstAssessment","operator":"===","value":"Afgekeurd"},{"type":"comparison","stage":4,"fieldCode":"implementationCoordinatorAssessment","operator":"===","value":"Eens met de eerste beoordeling"}]}', true, false, false, 'Implementatie coordinator beoordeling eens met afkeuring', null, 'submit');
insert into public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) values ('9fc7740b-1951-4e99-8f89-5608bb0e3a0b', 'e5da8f2e-db87-45df-8967-ea3dceb2b207', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', 'allocated', '{"type":"and","conditions":[{"type":"comparison","stage":2,"fieldCode":"firstAssessment","operator":"===","value":"Goedgekeurd"},{"type":"comparison","stage":4,"fieldCode":"implementationCoordinatorAssessment","operator":"===","value":"Eens met de eerste beoordeling"}]}', true, false, false, 'Implementatie coordinator beoordeling eens met goedkeuring', 364, 'submit');

INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('12c6b427-6dd0-4be1-b7a8-d6ede8ad2485', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', null, '{"type":"in","stage":5,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]}', false, false, false, 'Voortijdige vaststellings beoordeling voltooid', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('63003043-0aa5-41d5-b22f-46ad02a8903f', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, null, false, false, false, 'Vaststellings periode voltooid', null, 'expiration');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('d63ae140-2470-45de-a57e-8c58cf34b287', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, '{"type":"comparison","stage":5,"fieldCode":"assessment","operator":"===","value":"Uitstellen"}', false, false, false, 'Voortijdige vaststelling uitstellen', 364, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('7a84de99-53be-4d9c-ba7e-accfc41083e2', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', null, '{"type":"in","stage":6,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]}', false, false, false, 'Vaststellings beoordeling voltooid', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('90b1bab7-ed8d-4609-b669-0b771f325432', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', null, '{"type":"comparison","stage":6,"fieldCode":"assessment","operator":"===","value":"Uitstellen"}', false, true, true, 'Vaststelling uitstellen', 364, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('aa8e5388-af26-4a10-a11e-a59041601df2', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', '051364be-fa12-4af7-a1b8-c80f5e9dd652', null, '{"type":"and","conditions":[{"type":"or","conditions":[{"type":"in","stage":5,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]},{"type":"in","stage":6,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]}]},{"type":"comparison","stage":7,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"}]}', false, false, false, 'Interne controle eens met de vaststellingsbeoordeling', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('961a2e01-9379-4d45-971a-b80e6b1cd9c8', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, '{"type":"and","conditions":[{"type":"or","conditions":[{"type":"in","stage":5,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]},{"type":"in","stage":6,"fieldCode":"assessment","values":["Vaststellen","Vorderen"]}]},{"type":"comparison","stage":7,"fieldCode":"assessment","operator":"===","value":"Oneens met de beoordeling op de vaststelling"}]}', false, false, false, 'Interne controle oneens met de vaststellingsbeoordeling', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('66d64304-b165-4ada-9cf0-eb28b2772e47', '051364be-fa12-4af7-a1b8-c80f5e9dd652', null, 'reclaimed', '{"type":"and","conditions":[{"type":"or","conditions":[{"type":"comparison","stage":5,"fieldCode":"assessment","operator":"===","value":"Vorderen"},{"type":"comparison","stage":6,"fieldCode":"assessment","operator":"===","value":"Vorderen"}]},{"type":"comparison","stage":7,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"},{"type":"comparison","stage":8,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"}]}', true, false, false, 'Implementatie coordinator eens met de vordering', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('6a4d09fe-c648-45d3-b404-beaa95cb1013', '051364be-fa12-4af7-a1b8-c80f5e9dd652', null, 'approved', '{"type":"and","conditions":[{"type":"or","conditions":[{"type":"comparison","stage":5,"fieldCode":"assessment","operator":"===","value":"Vaststellen"},{"type":"comparison","stage":6,"fieldCode":"assessment","operator":"===","value":"Vaststellen"}]},{"type":"comparison","stage":7,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"},{"type":"comparison","stage":8,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"}]}', true, false, false, 'Implementatie coordinator eens met de vaststellingsbeoordeling', null, 'submit');
INSERT INTO public.subsidy_stage_transitions (id, current_subsidy_stage_id, target_subsidy_stage_id, target_application_status, condition, send_message, clone_data, assign_to_previous_assessor, description, expiration_period, evaluation_trigger) VALUES ('b4387d82-1c34-4434-9e8b-aa4a5048f8d4', '051364be-fa12-4af7-a1b8-c80f5e9dd652', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', null, '{"type":"and","conditions":[{"type":"or","conditions":[{"type":"comparison","stage":5,"fieldCode":"assessment","operator":"===","value":"Vaststellen"},{"type":"comparison","stage":6,"fieldCode":"assessment","operator":"===","value":"Vaststellen"}]},{"type":"comparison","stage":7,"fieldCode":"assessment","operator":"===","value":"Eens met de beoordeling op de vaststelling"},{"type":"comparison","stage":8,"fieldCode":"assessment","operator":"===","value":"Oneens met de beoordeling op de vaststelling"}]}', false, false, false, 'Implementatie coordinator oneens met de vaststellingsbeoordeling', null, 'submit');

INSERT INTO public.subsidy_stage_uis (id, subsidy_stage_id, version, status, input_ui, created_at, updated_at, view_ui) VALUES ('6b9e3359-8c44-4bfd-a593-baa5c4b8d19d', '59ddbc42-8ffc-4e2c-a751-d937714b6df6', 1, 'published', '{"type":"FormGroupControl","options":{"section":true,"group":true},"elements":[{"type":"Group","label":"Status","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"format":"radio"}}]}]},{"type":"Group","label":"Toelichting","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/proof","label":"Bewijs","options":{"accept":"image\/jpeg,image\/png,application\/pdf","maxFileSize":20971520,"minItems":1,"maxItems":20,"tip":"Upload een of meerdere bewijsstukken. Toegestane bestandstypen: pdf, jpg, jpeg, png. Maximale bestandsgrootte: 20 MB."}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"format":"textarea"}}]}]}]}', null, null, '{"type":"FormGroupControl","options":{"section":true},"elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"readonly":true,"format":"radio"}},{"type":"FormResultsTable","options":{"fields":{"Bewijs":"{proof}"}}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"readonly":true,"format":"textarea"}}]}');
INSERT INTO public.subsidy_stage_uis (id, subsidy_stage_id, version, status, input_ui, created_at, updated_at, view_ui) VALUES ('2a227775-700d-4f59-9322-900bb326afff', '2b06aee1-ea36-41a4-b7ae-74fa53c64a64', 1, 'published', '{"type":"FormGroupControl","options":{"section":true,"group":true},"elements":[{"type":"Group","label":"Status","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"format":"radio"}}]}]},{"type":"Group","label":"Toelichting","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/proof","label":"Bewijs","options":{"accept":"image\/jpeg,image\/png,application\/pdf","maxFileSize":20971520,"minItems":1,"maxItems":20,"tip":"Upload een of meerdere bewijsstukken. Toegestane bestandstypen: pdf, jpg, jpeg, png. Maximale bestandsgrootte: 20 MB."}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"format":"textarea"}}]}]}]}', null, null, '{"type":"FormGroupControl","options":{"section":true},"elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"readonly":true,"format":"radio"}},{"type":"FormResultsTable","options":{"fields":{"Bewijs":"{proof}"}}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"readonly":true,"format":"textarea"}}]}');
INSERT INTO public.subsidy_stage_uis (id, subsidy_stage_id, version, status, input_ui, created_at, updated_at, view_ui) VALUES ('9b0a617b-25dd-474c-bc0a-912c503a35e8', 'dfd0310d-3bf6-4e38-a2d5-0a3223ac20c8', 1, 'published', '{"type":"FormGroupControl","options":{"section":true,"group":true},"elements":[{"type":"Group","label":"Status","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"format":"radio"}}]}]},{"type":"Group","label":"Toelichting","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"format":"textarea"}}]}]}]}', null, null, '{"type":"FormGroupControl","options":{"section":true},"elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"readonly":true,"format":"radio"}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"readonly":true,"format":"textarea"}}]}');
INSERT INTO public.subsidy_stage_uis (id, subsidy_stage_id, version, status, input_ui, created_at, updated_at, view_ui) VALUES ('9fb35125-318e-4426-8857-facefdd94fee', '051364be-fa12-4af7-a1b8-c80f5e9dd652', 1, 'published', '{"type":"FormGroupControl","options":{"section":true,"group":true},"elements":[{"type":"Group","label":"Status","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"format":"radio"}}]}]},{"type":"Group","label":"Toelichting","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"format":"textarea"}}]}]}]}', null, null, '{"type":"FormGroupControl","options":{"section":true},"elements":[{"type":"CustomControl","scope":"#\/properties\/assessment","options":{"readonly":true,"format":"radio"}},{"type":"CustomControl","scope":"#\/properties\/internalNote","options":{"readonly":true,"format":"textarea"}}]}');

UPDATE public.fields SET exclude_from_clone_data = false WHERE subsidy_stage_id = '7075fcad-7d92-42f6-b46c-7733869019e0' and code = 'amount';

UPDATE public.subsidy_stage_transitions set description = 'Interne controle oneens met eerste beoordeling' WHERE id = '04811943-3e98-4532-940f-5b49908a193d';
UPDATE public.subsidy_stage_transitions set description = 'Interne controle eens met eerste beoordeling' WHERE id = 'd5a683bb-23bc-4c14-8ae2-2b2e62d378bb';
UPDATE public.subsidy_stage_transitions set description = 'Uitvoeringscoördinator is het oneens met de eerste beoordeling' WHERE id = '4d3e230b-dec5-4c62-b6d9-8aea62819234';

UPDATE public.subsidy_stage_uis SET input_ui = '{"type":"FormGroupControl","options":{"section":true,"group":true},"elements":[{"type":"Group","label":"Status","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/implementationCoordinatorAssessment","options":{"format":"radio"}}]}]},{"type":"Group","label":"Toelichting","elements":[{"type":"VerticalLayout","elements":[{"type":"CustomControl","scope":"#\/properties\/implementationCoordinatorAssessmentInternalNote","options":{"format":"textarea"}}]}]}]}' WHERE id = '6a669ec1-e949-40d8-bbc4-946665553fb1';
